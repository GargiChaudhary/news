<!DOCTYPE html>
<html>
<head>
    <title>tree test</title>
    <link rel="stylesheet" type="text/css" href="tree.css">
    <link rel="stylesheet" type="text/css" href="main.css">
    <script src='tree.js'></script>
</head>
<body>


<div class="title">tree</div>
<div class="content">
    <aside class="type-list"></aside>
    <div class="main">

    </div>
</div>
<script type="text/javascript">
    var $ = function query(argument) {
        return document.querySelectorAll(argument)[0];
    }

    var left = $('.type-list');
    var right = $('.main');

    //根据浏览器大小设置 主内容高度
    right.style.height = window.innerHeight - 150 + 'px';

    //生成树

    var tree = new Tree({
        dragStart: function (e) {
            e.dataTransfer.setData("Text", e.target.id);
        }
    });
    var dom = tree.render();
    left.appendChild(dom);
    document.querySelector('.main').ondrop = function (e) {
        e.preventDefault();
        var data = e.dataTransfer.getData("Text");
        e.target.appendChild(document.querySelector('#' + data));

    }
    document.querySelector('.main').ondragover = function (e) {
        e.preventDefault();

    }
</script>
</body>
</html>